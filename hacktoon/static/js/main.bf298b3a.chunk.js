(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{121:function(e,a,t){},122:function(e,a,t){},202:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(76),l=t.n(r),c=t(77),s=t(2),i=t.n(s),m=t(13),u=t(15),d=(t(29),t(18)),p={apiKey:"AIzaSyCLiM3ZkfuiUia4wX8dWJnavwfKH_CNmM4",authDomain:"bitbothacktoon.firebaseapp.com",databaseURL:"https://bitbothacktoon.firebaseio.com",projectId:"bitbothacktoon",storageBucket:"bitbothacktoon.appspot.com",messagingSenderId:"307996974626",appId:"1:307996974626:web:772aa58bfd2ceb711ef47b",measurementId:"G-2WC4X31F2S"},b=t(39),f=t(40),h=t(19),v=t.n(h);function g(){var e=Object(b.a)(["\n"]);return g=function(){return e},e}var E=f.a.div(g()),w=function(){return o.a.createElement(E,{style:{zIndex:"1000"}},o.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},o.a.createElement(u.b,{className:"navbar-brand",to:"/"},"\u041c\u0443\u0441\u043e\u0440\u043a\u0430"),o.a.createElement("button",{className:"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarsExample01","aria-controls":"navbarsExample01","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"navbar-collapse collapse",id:"navbarsExample01"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement(d.c,null,o.a.createElement(u.c,{to:"/lk",activeClassName:"active",className:"nav-item",style:{textDecoration:"none"}},o.a.createElement("a",{className:"nav-link"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 ",o.a.createElement("span",{className:"sr-only"},"(current)")))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/map"},"\u041a\u0430\u0440\u0442\u0430")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link disabled",href:"#"},"Disabled")),o.a.createElement(d.c,null,o.a.createElement("li",{className:"nav-item",style:{textDecoration:"none"},onClick:function(){return v.a.auth().signOut()}},o.a.createElement("a",{className:"nav-link",href:"#"},"\u0412\u044b\u0439\u0442\u0438",o.a.createElement("span",{className:"sr-only"},"(exit)"))))))))},k=(t(121),t(122),function(){return o.a.createElement("div",null,"\u0414\u0410\u0414\u0410\u0430\u0434\u0430\u0434\u0430")}),y=t(16);t(123);function N(){var e=Object(b.a)(["\n    width: 100%;\n    max-width: 330px;\n    padding: 15px;\n    margin: 0 auto;\n"]);return N=function(){return e},e}var j=f.a.form(N()),O=Object(m.f)((function(e){var a=Object(n.useState)(""),t=Object(y.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(""),s=Object(y.a)(c,2),i=s[0],m=s[1];return o.a.createElement(j,{className:"text-center"},o.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"),o.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"\u041f\u043e\u0447\u0442\u0430"),o.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",value:r,onChange:function(e){return l(e.target.value)},required:"",autoFocus:""}),o.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only mt-s-2"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control mt-2",value:i,onChange:function(e){return m(e.target.value)},placeholder:"Password",required:""}),o.a.createElement("button",{onClick:function(a){a.preventDefault(),v.a.auth().signInWithEmailAndPassword(r,i).then((function(a){console.log(a),e.history.push("/lk")})).catch((function(a){(console.error(a),"auth/user-not-found"===a.code)?window.confirm("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d, \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f?")?v.a.auth().createUserWithEmailAndPassword(r,i).then((function(a){console.log(a),e.history.push("/lk")})).catch((function(e){console.error(e),alert(e.message)})):window.confirm("\u0417\u0430\u0439\u0442\u0438 \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e?")&&v.a.auth().signInAnonymously().then((function(a){console.log(a),e.history.push("/lk")})).catch((function(e){console.error(e),alert(e.message)})):alert(a.message)}))},className:"btn btn-lg btn-primary btn-block mt-3",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 2019"))})),x=(t(124),t(52));function C(e){return e*(Math.PI/180)}var I=function(e){var a=e.map,t=e.myCoord;return console.log(t),fetch("https://bitbothacktoon.firebaseio.com/zavodi.json").then((function(e){return e.json()})).then((function(e){console.log(e);var n=e.filter(Boolean).map((function(e){return{lat:e.lat,long:e.long}}));console.log(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:51.5289156201,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:46.0209384922,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=e-n/Math.abs(111*Math.cos(C(a))),r=e+n/Math.abs(111*Math.cos(C(a))),l=a-n/111,c=a+n/111;return t.filter((function(e){var a=e.lat,t=e.long;return(a>=l||a<=c)&&(t>=o||t>=r)}))}(t[0],t[1],n,4e3)),e.filter(Boolean).forEach((function(e,t){var n={lat:e.lat,lng:e.long},o=new H.map.Marker(n);a&&(a.addObject(o),a.setCenter(n))}))})),o.a.createElement("div",null,"da")},S=function(e){var a=Object(n.useState)(!1),t=Object(y.a)(a,2),r=(t[0],t[1],Object(n.useState)([0,0])),l=Object(y.a)(r,2),c=l[0],s=l[1],i=o.a.createRef(),m=Object(n.useState)(void 0),u=Object(y.a)(m,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){var e=new H.service.Platform({apikey:"ESU6InU1lFzkpCHoS8_AuD7UUACCf1_x06z0GeEdWzs"}).createDefaultLayers(),a=new H.Map(i.current,e.raster.terrain.base,{zoom:10,center:{lng:13.4,lat:52.51}});H.ui.UI.createDefault(a,e),new H.mapevents.Behavior(new H.mapevents.MapEvents(a));p(a),new Promise((function(e,a){navigator.geolocation?(console.log("Geolocation is supported!"),navigator.geolocation.getCurrentPosition(e)):a("Geolocation is not supported for this Browser/OS version yet.")})).then((function(e){return s([e.coords.latitude,e.coords.longitude])})).catch((function(e){return alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0433\u0435\u043e\u043f\u043e\u0437\u0438\u0446\u0438\u044e")}))}),[i.current]),o.a.createElement("div",{id:"list"},o.a.createElement("div",Object.assign({id:"map",style:{height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"rgb(229, 227, 223)"},ref:i},e),o.a.createElement(I,{map:d,myCoord:c})))},M=function(e){var a=e.Component,t=Object(c.a)(e,["Component"]);return o.a.createElement(m.b,Object.assign({},t,{render:function(e){return o.a.createElement(d.a,null,(function(t){var n=t.isSignedIn,r=t.providerId,l=t.user;return n?(console.log("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),o.a.createElement(a,Object.assign({},e,{user:l,providerId:r}))):o.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}))}}))},P=function(){return o.a.createElement(u.a,null,o.a.createElement(d.b,Object.assign({firebase:i.a},p),o.a.createElement(x.a,Object.assign({firebase:i.a},p),o.a.createElement("div",{id:"head"},o.a.createElement(w,null)),o.a.createElement(M,{exact:!0,path:"/lk",Component:k}),o.a.createElement(m.b,{path:"/map",component:S}),o.a.createElement("div",{style:{paddingTop:"56px"}},o.a.createElement(m.b,{path:"/login",component:O}),o.a.createElement(m.b,{path:"/",exact:!0,component:O})),o.a.createElement("div",{id:"footer"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"#",className:"show_about"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435")))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,a,t){e.exports=t(202)}},[[85,1,2]]]);
//# sourceMappingURL=main.bf298b3a.chunk.js.map