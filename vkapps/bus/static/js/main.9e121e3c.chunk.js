(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(365)},365:function(e,t,a){"use strict";a.r(t);a(167),a(169);var n=a(0),r=a.n(n),c=a(86),l=a.n(c),o=a(118),u=a.n(o),i=a(6),s=a(160),m=a(161),f=a.n(m),E=(a(342),a(69)),d=a.n(E),h=a(29),g=a.n(h),p=a(25),b=a.n(p),v=a(20),O=a.n(v),j=a(31),k=a.n(j),S=a(119),w=a.n(S),y=function(e){var t=e.id,a=e.go,n=e.goV;return r.a.createElement(g.a,{id:t},r.a.createElement(b.a,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(O.a,{title:"\u0417\u0430\u0447\u0435\u043c, \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c 58bus?"},r.a.createElement(k.a,null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u043e\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0443\u0434\u043e\u0431\u043d\u043e \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u0438\u0434\u0451\u0442 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442, \u043d\u0435 \u0432\u044b\u0445\u043e\u0434\u044f \u0438\u0437 \u0432\u043a. \u0415\u0449\u0451 \u043d\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442, \u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0443\u0436\u0435 \u043c\u043e\u0436\u043d\u043e :)")),r.a.createElement(O.a,{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},r.a.createElement(k.a,null,r.a.createElement(w.a,{size:"xl",level:"2",onClick:n,"data-to":"stations"},"\u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e")),r.a.createElement(k.a,null,r.a.createElement(w.a,{size:"xl",level:"2",onClick:a,"data-to":"about"},"\u041e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435"))))},C=a(44),V=a.n(C),R=a(22),I=a.n(R),D=a(10),x=a.n(D),T=a(70),F=a.n(T),A=a(162),N=a.n(A),_=a(163),z=a.n(_),J=function(e){var t=e.id,a=(e.goV,e.go);return r.a.createElement(g.a,{id:t},r.a.createElement(b.a,{left:r.a.createElement(V.a,{onClick:a,"data-to":"main"})},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435"),r.a.createElement(O.a,{title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b"},r.a.createElement(I.a,null,r.a.createElement(x.a,null,"\u0427\u0430\u0439"),r.a.createElement(x.a,null,"\u041f\u043e\u0447\u0442\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0435 ",r.a.createElement(F.a,{href:"https://58bus.ru",target:"_blank"},"API")," \u0443\u043c\u043d\u043e\u0433\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),r.a.createElement(x.a,null,"CORS \u043e\u0431\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e - ",r.a.createElement(F.a,{href:"http://cors-anywhere.herokuapp.com/",target:"_blank"},"Cors any where")))),r.a.createElement(O.a,{title:"\u0421\u0432\u044f\u0437\u044c"},r.a.createElement(I.a,null,r.a.createElement(x.a,{before:r.a.createElement(z.a,null)},r.a.createElement(F.a,{href:"https://vk.me/59967447",target:"_blank"},"id59967447")),r.a.createElement(x.a,{before:r.a.createElement(N.a,null)},r.a.createElement(F.a,{href:"mailto:melhov.tosha@yandex.ru"},"melhov.tosha@yandex.ru")))))},K=function(e){var t=e.id,a=e.goV,c=Object(n.useState)("main"),l=Object(i.a)(c,2),o=l[0],u=l[1],s=function(e){u(e.currentTarget.dataset.to)};return r.a.createElement(d.a,{activePanel:o,id:t},r.a.createElement(y,{id:"main",go:s,goV:a}),r.a.createElement(J,{id:"about",go:s,goV:a}))},P=a(45),W=a.n(P),H=a(164),L=a.n(H),X=a(63),Y=a.n(X),B=a(165),U=a.n(B),q=function(e){var t=e.go,a=e.changeData,c=e.goV,l=Object(n.useState)(!0),o=Object(i.a)(l,2),u=o[0],s=o[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),E=f[0],d=f[1],h=Object(n.useState)(!1),p=Object(i.a)(h,2),v=p[0],O=p[1],j=Object(n.useState)(""),k=Object(i.a)(j,2),S=k[0],w=k[1],y=Object(n.useState)([]),C=Object(i.a)(y,2),V=C[0],R=C[1];Object(n.useEffect)(function(){var e=S.toLowerCase();R(E.filter(function(t){return t.name.toLowerCase().indexOf(e)>-1}))},[S]);var D=function(e){fetch("https://cors-anywhere.herokuapp.com/https://58bus.ru/php/getStations.php?city=penza&info=12345&lang=ru&_=1554144846157",{signal:e}).then(function(e){if(e.ok)return localStorage.setItem("stations.time",(new Date).getTime()),e.json();throw new Error("Network resonse was not ok!")}).then(function(e){return e.map(function(e){return e.lng=parseInt(e.lng)/1e6,e.lat=parseInt(e.lat)/1e6,e})}).then(function(e){localStorage.setItem("stations.data",JSON.stringify(e)),d(e),R(e),s(!1),O(!1)}).catch(function(e){s(!1),O(!1),console.error(e)})};Object(n.useEffect)(function(){var e=localStorage.getItem("stations.time"),t=new Date,a=new AbortController;if(console.log(e),e&&t.getTime()-e>864e5||null===e){var n=a.signal;D(n)}else{var r=JSON.parse(localStorage.getItem("stations.data"));d(r),R(r),s(!1),O(!1)}return function(){a.abort()}},[]);var T=function(e,n){return function(r){a({id:e,type:n}),t(r)}};return r.a.createElement(g.a,{id:"search"},r.a.createElement(b.a,{left:r.a.createElement(U.a,{onClick:c,"data-to":"home"})},"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438"),u?r.a.createElement(W.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{value:S,onChange:function(e){w(e)}}),r.a.createElement(Y.a,{onRefresh:function(){O(!0),D()},isFetching:v},r.a.createElement(I.a,null,V.length>0?V.map(function(e){var t=e.id,a=e.descr,n=e.name,c=e.type;return r.a.createElement(x.a,{key:t,expandable:!0,"data-to":"ostanovka",onClick:T(t,c),description:a},n)}):null))))},G=a(64),M=a.n(G),Q=a(56),Z=a.n(Q),$=a(120),ee=a.n($),te=a(87),ae=a.n(te),ne=function(e){var t=e/60|0,a=!1;switch(e<61&&(a=!0),t%10){case 0:return"\u041e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e \u0447\u0435\u0440\u0435\u0437 ".concat(a?e:t," ").concat(a?"\u0441\u0435\u043a\u0443\u043d\u0434":"\u043c\u0438\u043d\u0443\u0442");case 1:return"\u041e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e \u0447\u0435\u0440\u0435\u0437 ".concat(a?e:t," ").concat(a?"\u0441\u0435\u043a\u0443\u043d\u0434":"\u043c\u0438\u043d\u0443\u0442","\u0443");case 2:case 3:case 4:return"\u041e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e \u0447\u0435\u0440\u0435\u0437 ".concat(a?e:t," ").concat(a?"\u0441\u0435\u043a\u0443\u043d\u0434":"\u043c\u0438\u043d\u0443\u0442","\u044b");default:return"\u041e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e \u0447\u0435\u0440\u0435\u0437 ".concat(a?e:t," ").concat(a?"\u0441\u0435\u043a\u0443\u043d\u0434":"\u043c\u0438\u043d\u0443\u0442")}},re=function(){return r.a.createElement(k.a,null,r.a.createElement(M.a,{title:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432",state:"default"},"\u041c\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u043d\u043e \u0442\u0430\u043c \u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043d\u044b\u0445 \u0442\u0430\u043a\u0441\u0438. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e."))},ce=function(e){var t=e.data,a=e.go,c=e.setVehid,l=e.to,o=Object(n.useState)(!localStorage.getItem("tooltip.lastStation")),u=Object(i.a)(o,2),s=u[0],m=u[1],f=function(){localStorage.setItem("tooltip.lastStation",!1),m(!1)},E=function(e){return function(t){c({vehid:e}),a(t)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{title:"\u041f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0439\u0441\u044f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"},r.a.createElement(I.a,null,t.map(function(e,t){var a=e.vehid,n=e.rtype,c=e.rnum,o=e.arrt,u=e.lastst;return 0===t&&o<2040?r.a.createElement(ae.a,{key:a,offsetX:65,offsetY:-22,isShown:s,onClose:f,title:"\u0427\u0442\u043e \u044d\u0442\u043e?",text:"\u0422\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0435\u0441\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"},r.a.createElement(x.a,{expandable:!0,"data-to":l,onClick:E(a),description:ne(o),before:r.a.createElement(ee.a,null,n+"-"+c)},u)):r.a.createElement(x.a,{expandable:!0,"data-to":l,onClick:E(a),key:a,description:ne(o),before:r.a.createElement(ee.a,null,n+"-"+c)},u)}))))},le=function(e){var t=e.id,a=JSON.parse(localStorage.getItem("stations.data")).find(function(e){return e.id===parseInt(t)});return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(O.a,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435"},r.a.createElement(I.a,null,r.a.createElement(x.a,null,r.a.createElement(Z.a,{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},a.name)),r.a.createElement(x.a,null,r.a.createElement(Z.a,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},a.descr)),r.a.createElement(x.a,null,r.a.createElement(Z.a,{title:"lat"},a.lat)),r.a.createElement(x.a,null,r.a.createElement(Z.a,{title:"lng"},a.lng)),r.a.createElement(x.a,null,r.a.createElement(Z.a,{title:"\u0422\u0438\u043f"},a.type)),r.a.createElement(x.a,null,r.a.createElement(Z.a,{title:"\u041f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"},a.id)))):null)},oe=function(e){var t=e.ostData,a=e.id,c=e.go,l=(e.goV,e.setVehid),o=Object(n.useState)(!0),u=Object(i.a)(o,2),s=u[0],m=u[1],f=Object(n.useState)([]),E=Object(i.a)(f,2),d=E[0],h=E[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),O=v[0],j=v[1],S=Object(n.useState)(!0),w=Object(i.a)(S,2),y=w[0],C=w[1];Object(n.useEffect)(function(){var e=new AbortController,a=e.signal,n=setTimeout(function(){C(!y)},25e3);return R(t,a),function(){e.abort(),clearTimeout(n)}},[y]);var R=function(e){var t=e.id,a=e.type,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;fetch("https://cors-anywhere.herokuapp.com/https://58bus.ru/php/getStationForecasts.php?sid=".concat(t,"&type=").concat(a,"&city=penza&info=12345&lang=ru&_=").concat((new Date).getTime()),{signal:n}).then(function(e){if(e.ok)return e.json();throw new Error("Network resonse was not ok!")}).then(function(e){h(e),m(!1),T(!1),O&&j(!1)}).catch(function(e){m(!1),T(!1),j(!0),console.log(e)})},I=Object(n.useState)(!1),D=Object(i.a)(I,2),x=D[0],T=D[1];return r.a.createElement(g.a,{id:a},r.a.createElement(b.a,{left:r.a.createElement(V.a,{onClick:c,"data-to":"search"})},"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"),s?r.a.createElement(W.a,null):r.a.createElement(Y.a,{onRefresh:function(){T(!0),R(t)},isFetching:x},r.a.createElement("div",null,!O&&d.length>0?r.a.createElement(ce,{to:"vechicle",go:c,setVehid:l,data:d}):r.a.createElement(re,null),O&&r.a.createElement(k.a,null,r.a.createElement(M.a,{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",state:"error"},"\u041d\u0435 \u0441\u043c\u043e\u0433 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043d\u044b\u0445 \u0442\u0430\u043a\u0441\u0438.")),r.a.createElement(le,{id:t.id}))))},ue=function(e){var t=e.data,a=t.busRoutes,n=t.trollRoutes,c=t.speedRoutes;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(O.a,{title:"\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u044b"},r.a.createElement(I.a,null,a.map(function(e,t){return r.a.createElement(x.a,{key:t},e.serverRoute.num)}))):null,n?r.a.createElement(O.a,{title:"\u0422\u0440\u043e\u043b\u043b\u0435\u0439\u0431\u0443\u0441\u044b"},r.a.createElement(I.a,null,n.map(function(e,t){return r.a.createElement(x.a,{key:t},e.serverRoute.num)}))):null,c?r.a.createElement(O.a,{title:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043a\u0438"},r.a.createElement(I.a,null,c.map(function(e,t){return r.a.createElement(x.a,{key:t},e.serverRoute.num)}))):null)},ie=function(e){var t=e.id,a=e.go,c=Object(n.useState)({loading:!0,data:null,error:null}),l=Object(i.a)(c,2),o=l[0],u=l[1];return Object(n.useEffect)(function(){var e=new AbortController,t=e.signal;return fetch("https://cors-anywhere.herokuapp.com/https://58bus.ru/php/getRoutes.php?city=penza&info=12345&lang=ru&_=1554144846157",{signal:t}).then(function(e){if(e.ok)return e.json();throw new Error("Network resonse was not ok!")}).then(function(e){var t={};e.forEach(function(e){var a=e.type+"-"+e.num;t[a]||(t[a]={},t[a].serverRoute=e,t[a].ids=[]),t[a].ids.push(e.id)});var a={busRoutes:[],trollRoutes:[],speedRoutes:[]};return Object.keys(t).forEach(function(e){switch(t[e].serverRoute.type){case"\u0410":a.busRoutes.push(t[e]);break;case"\u041c":a.speedRoutes.push(t[e]);break;case"\u0422":a.trollRoutes.push(t[e])}}),a}).then(function(e){return u({loading:!1,data:e})}).catch(function(e){return console.error(e.message)}),function(){e.abort()}},[]),r.a.createElement(g.a,{id:t},r.a.createElement(b.a,{left:r.a.createElement(V.a,{onClick:a,"data-to":"main"})},"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b"),o.loading?r.a.createElement(W.a,null):r.a.createElement(ue,{data:o.data}),r.a.createElement(O.a,null))},se=a(121),me=a.n(se),fe=function(e){var t=e.go,a=e.setHaltData,c=e.vechicleData,l=Object(n.useState)(!localStorage.getItem("tooltip.lastStation")),o=Object(i.a)(l,2),u=o[0],s=o[1],m=function(){localStorage.setItem("tooltip.lastStation",!1),s(!1)},f=function(e){return function(n){a(e),t(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{title:"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0443"},r.a.createElement(I.a,null,c.sort(function(e,t){return e.arrt-t.arrt}).map(function(e,t){var a=e.stid,n=e.arrt,c=e.stdescr,l=e.stname;return 0===t?r.a.createElement(ae.a,{key:a,offsetX:65,offsetY:-22,isShown:u,onClose:m,title:"\u0427\u0442\u043e \u044d\u0442\u043e?",text:"\u0422\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0435\u0441\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"},r.a.createElement(x.a,{expandable:!0,"data-to":"ostanovka",onClick:f({id:a,type:0}),description:"".concat(ne(n)," ").concat(c),before:r.a.createElement(me.a,null)},l)):r.a.createElement(x.a,{key:a,expandable:!0,"data-to":"ostanovka",onClick:f({id:a,type:0}),description:"".concat(ne(n)," ").concat(c),before:r.a.createElement(me.a,null)},l)}))))},Ee=function(){return r.a.createElement(k.a,null,r.a.createElement(M.a,{title:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432",state:"default"},"\u041c\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u043d\u043e \u0442\u0430\u043c \u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043d\u044b\u0445 \u0442\u0430\u043a\u0441\u0438. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e."))},de=function(e){var t=e.id,a=e.data,c=e.go,l=e.setOstData,o=Object(n.useState)(!1),u=Object(i.a)(o,2),s=u[0],m=u[1],f=Object(n.useState)([]),E=Object(i.a)(f,2),d=E[0],h=E[1],p=Object(n.useState)(!0),v=Object(i.a)(p,2),O=v[0],j=v[1],S=function(e,t){var a=e.vehid;fetch("https://cors-anywhere.herokuapp.com/https://58bus.ru/php/getVehicleForecasts.php?vid=".concat(a,"&type=0&city=penza&info=12345&lang=ru&_=").concat((new Date).getTime()),{signal:t}).then(function(e){if(e.ok)return e.json();throw new Error("Network resonse was not ok!")}).then(function(e){h(e),j(!1),T(!1),s&&m(!1)}).catch(function(e){j(!1),m(!0),T(!1),console.error(e)})},w=Object(n.useState)(!1),y=Object(i.a)(w,2),C=y[0],R=y[1];Object(n.useEffect)(function(){var e=new AbortController,t=e.signal,n=setTimeout(function(){R(!C)},25e3);return S(a,t),function(){e.abort(),clearTimeout(n)}},[C]);var I=Object(n.useState)(!1),D=Object(i.a)(I,2),x=D[0],T=D[1];return r.a.createElement(g.a,{id:t},r.a.createElement(b.a,{left:r.a.createElement(V.a,{onClick:c,"data-to":"ostanovka"})},"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),O?r.a.createElement(W.a,null):r.a.createElement(Y.a,{onRefresh:function(){T(!0),S(a)},isFetching:x},r.a.createElement("div",null,s&&r.a.createElement(k.a,null,r.a.createElement(M.a,{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",state:"error"},"\u041d\u0435 \u0441\u043c\u043e\u0433 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043d\u044b\u0445 \u0442\u0430\u043a\u0441\u0438.")),!s&&d.length>0?r.a.createElement(fe,{go:c,setHaltData:l,vechicleData:d}):r.a.createElement(Ee,null))),r.a.createElement(k.a,null,JSON.stringify(a)))},he=function(e){var t=e.id,a=e.goV,c=Object(n.useState)("search"),l=Object(i.a)(c,2),o=l[0],u=l[1],s=function(e){u(e.currentTarget.dataset.to)},m=Object(n.useState)({}),f=Object(i.a)(m,2),E=f[0],h=f[1],g=Object(n.useState)(""),p=Object(i.a)(g,2),b=p[0],v=p[1];return r.a.createElement(d.a,{id:t,activePanel:o},r.a.createElement(q,{id:"search",goV:a,go:s,changeData:h}),r.a.createElement(ie,{id:"routes",go:s,goV:a}),r.a.createElement(oe,{id:"ostanovka",goV:a,go:s,setVehid:v,ostData:E}),r.a.createElement(de,{id:"vechicle",go:s,data:b,setOstData:h}))},ge=function(){var e=Object(n.useState)("home"),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(e){c(e.currentTarget.dataset.to)};return Object(n.useEffect)(function(){s.a.send("VKWebAppInit").then(console.log).catch(console.error)},[]),r.a.createElement(f.a,{activeView:a},r.a.createElement(K,{id:"home",goV:l}),r.a.createElement(he,{id:"stations",goV:l}))};u.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t)}}),u.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(ge,null),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.9e121e3c.chunk.js.map